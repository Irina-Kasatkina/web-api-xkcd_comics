# Публикация случайного комикса xkcd на стене группы vk

Этот проект представляет собой скрипт для скачивания с [xkcd.com](https://xkcd.com/) случайного комикса и публикации его на стене указанной группы [ВКонтакте](https://vk.com/feed).

## Установка

Для запуска скриптов вам понадобится Python третьей версии.

Скачайте код с GitHub.

Для управления зависимостями Python желательно воспользоваться [virtualenv](https://pypi.org/project/virtualenv/).

Установите зависимости с помощью `pip` (или `pip3`, есть конфликт с Python2):
```
pip install -r requirements.txt
```

### Переменные окружения

Часть настроек утилит берётся из переменных окружения. Чтобы их определить, создайте файл `.env` в той же папке, где и скрипты, и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступны 2 переменные:

- `VK_GROUP_ID` - ID группы ВКонтакте, куда будут выкладываться комиксы. Например, `VK_GROUP_ID=12345`. 

- `VK_ACCESS_TOKEN` - ваш ключ доступа пользователя для API ВКонтакте. Например: `VK_ACCESS_TOKEN=hg639e20ad155405123dk5677542fecf00231da7`. 

Для получения ID группы ВКонтакте и ключа доступа пользователя для API ВКонтакте, нужно сделать следующее: 
1. [Создать группу ВКонтакте](https://vk.com/groups?tab=admin) (кнопка `Создать сообщество`). ID группы (он состоит из цифр) будет виден в адресной строке группы, а также его можно узнать [здесь](https://regvk.com/id/).

2. [Создать приложение ВКонтакте](https://vk.com/apps?act=manage) (в качестве типа приложения указать `standalone`, в качестве группы указать группу, созданную на предыдущем шаге) и запомнить его `client_id` (он состоит из цифр и будет виден в адресной строке, если нажать на кнопку `Редактировать` для нового приложения).

3. [Получить ключ доступа пользователя через Implicit Flow](https://vk.com/dev/implicit_flow_user) - по ссылке можно увидеть (в пункте `1. Открытие диалога авторизации`), что вам следует набрать в адресной строке браузера адрес `https://oauth.vk.com/authorize?client_id=<client_id>&display=page&scope=photos,groups,wall,offline&response_type=token&state=1`, где вместо `<client_id>` подставить реальный `client_id` вашего приложения, полученный на предыдущем шаге.

## Запуск

Для запуска скрипта наберите в командной строке команду:
```
python publish_comic_on_vk
```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).